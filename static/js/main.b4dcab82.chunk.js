(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,n){e.exports=n(43)},30:function(e,t,n){},31:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),r=n(23),o=n.n(r),c=(n(30),n(4)),u=n(5),s=n(8),l=n(6),f=n(7),h=(n(31),n(3)),d=(n(14),n(2)),m=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.lineData,a=e.title;return i.a.createElement("div",{className:"BarChart"},i.a.createElement("p",null,a),i.a.createElement(d.g,{height:300,width:1e3,xType:"ordinal"},i.a.createElement(d.a,null),i.a.createElement(d.d,{data:t,barWidth:.95}),n&&n.map(function(e){return i.a.createElement(d.c,{data:e,color:"red"})}),i.a.createElement(d.f,{title:"Duration (s)"}),i.a.createElement(d.h,{title:n?"Cumulative frequency":"Frequency"})))}}]),t}(a.Component),b=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.transformed,a=e.intervalLines;return i.a.createElement("div",{className:"ChartContainer "},Object.keys(t).sort().map(function(e){return Object.keys(t[e]).sort().map(function(r){return i.a.createElement("div",{className:"ChartContainer_duo"},i.a.createElement(m,{data:t[e][r],title:e+" "+r}),i.a.createElement(m,{data:n[e][r],lineData:a[e][r],title:"cumulative"}))})}))}}]),t}(a.Component),v=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(l.a)(t).call(this,e))).options=[{key:"frequencyDistribution",text:"Local: Dataset not grouped in time",value:0},{key:"timeGroupedFrequencyDistribution",text:"Local: Dataset grouped by weekend of weekday and hours",value:1},{key:"timeFrequencyDistribution",text:"Local: Dataset grouped every 20 minutes",value:2}],n.state={value:n.options[0].value},n.handleChange=n.handleChange.bind(Object(h.a)(Object(h.a)(n))),n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"handleChange",value:function(e){this.setState({value:e.target.value}),this.props.onChange(e.target.value)}},{key:"render",value:function(){return i.a.createElement("select",{value:this.state.value,onChange:this.handleChange},i.a.createElement("option",{value:this.options[0].key},this.options[0].text),i.a.createElement("option",{value:this.options[1].key},this.options[1].text),i.a.createElement("option",{value:this.options[2].key},this.options[2].text))}}]),t}(a.Component);var y=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(l.a)(t).call(this,e))).state={option:"frequencyDistribution",frequencyDistribution:void 0,timeFrequencyDistribution:void 0,timeGroupedFrequencyDistribution:void 0,onlineFrequencyDistribution:void 0,onlineTimeFrequencyDistribution:void 0,onlineTimeGroupedFrequencyDistribution:void 0},n.setOption=n.setOption.bind(Object(h.a)(Object(h.a)(n))),n.transformData=n.transformData.bind(Object(h.a)(Object(h.a)(n))),n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/OpenTrafficLightsDistributionsVisualizer/Data/frequencyDistribution.json").then(function(e){return e.json()}).then(function(t){var n=function(e){console.log("fd parser started");var t={};return Object.keys(e).forEach(function(n){t[n]={},Object.keys(e[n]).forEach(function(a){t[n][a]=[],Object.keys(e[n][a]).forEach(function(i){t[n][a].push({x:i,y:e[n][a][i]})})})}),console.log("fd parser ended"),t}(t);e.setState({frequencyDistribution:{normal:n,cumulative:e.transformData(n)}})}),fetch("/OpenTrafficLightsDistributionsVisualizer/Data/timeFrequencyDistribution.json").then(function(e){return e.json()}).then(function(t){var n=function(e){console.log("tfd parser started");var t=[];return Object.keys(e).forEach(function(n){t[n]={},Object.keys(e[n]).forEach(function(a){Object.keys(e[n][a]).forEach(function(i){Object.keys(e[n][a][i]).forEach(function(r){Object.keys(e[n][a][i][r]).forEach(function(o){Object.keys(e[n][a][i][r][o]).forEach(function(c){Object.keys(e[n][a][i][r][o][c]).forEach(function(u){var s=a+" "+i+"-"+r+"-"+o+" "+c+"h third: "+u;t[n][s]=[],Object.keys(e[n][a][i][r][o][c][u]).forEach(function(l){t[n][s].push({x:l,y:e[n][a][i][r][o][c][u][l]})})})})})})})})}),console.log("tfd parser ended"),t}(t);e.setState({timeFrequencyDistribution:{normal:n,cumulative:e.transformData(n)}})}),fetch("/OpenTrafficLightsDistributionsVisualizer/Data/timeGroupedFrequencyDistribution.json").then(function(e){return e.json()}).then(function(t){var n=function(e){console.log("tgfd parser started");var t={};return Object.keys(e).forEach(function(n){t[n]={},Object.keys(e[n]).forEach(function(a){Object.keys(e[n][a]).forEach(function(i){Object.keys(e[n][a][i]).forEach(function(r){var o=a+" hour: "+r;o+="1"===i?" on weekend":" on weekday",t[n][o]=[],Object.keys(e[n][a][i][r]).forEach(function(c){t[n][o].push({x:c,y:e[n][a][i][r][c]})})})})})}),console.log("tgfd parser ended"),t}(t);e.setState({timeGroupedFrequencyDistribution:{normal:n,cumulative:e.transformData(n)}})})}},{key:"setOption",value:function(e){this.setState({option:e})}},{key:"transformData",value:function(e){var t={},n={};return Object.keys(e).forEach(function(a){t[a]||(t[a]={}),n[a]||(n[a]={}),Object.keys(e[a]).forEach(function(i){t[a][i]||(t[a][i]=[]),n[a][i]||(n[a][i]=[]);var r=0,o=void 0,c=void 0,u=!0,s=!1,l=void 0;try{for(var f,h=e[a][i][Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var d=f.value,m=Number.parseInt(d.x,10);r+=d.y,t[a][i].push({x:m,y:r}),(void 0===o||m>o)&&(o=m),(void 0===c||m<c)&&(c=m)}}catch(p){s=!0,l=p}finally{try{u||null==h.return||h.return()}finally{if(s)throw l}}var b=.05*r,v=[{x:c,y:b},{x:o,y:b}],y=[{x:c,y:r-b},{x:o,y:r-b}];n[a][i].push(v),n[a][i].push(y)})}),[t,n]}},{key:"render",value:function(){var e=this.state.option,t=this.state[e];return console.log(t),t?i.a.createElement("div",{className:"DistributionSelector"},i.a.createElement(v,{onChange:this.setOption}),i.a.createElement("header",{className:"App-header"},i.a.createElement(b,{data:t.normal,transformed:t.cumulative[0],intervalLines:t.cumulative[1]}))):i.a.createElement("div",null,i.a.createElement(v,{onChange:this.setOption}))}}]),t}(a.Component),p=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(l.a)(t).call(this,e))).state={data:void 0,showSeriesOnly:void 0},n.onSeriesClick=n.onSeriesClick.bind(Object(h.a)(Object(h.a)(n))),n.onResetClick=n.onResetClick.bind(Object(h.a)(Object(h.a)(n))),n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/OpenTrafficLightsDistributionsVisualizer/Data/durations_latest.json").then(function(e){return e.json()}).then(function(t){var n={};Object.keys(t).forEach(function(a){n[a]||(n[a]={}),Object.keys(t[a]).forEach(function(i){n[a][i]=e._transformData(t[a][i])})}),e.setState({data:n})})}},{key:"onSeriesClick",value:function(e){this.setState({showSeriesOnly:e})}},{key:"onResetClick",value:function(){this.setState({showSeriesOnly:void 0})}},{key:"_transformData",value:function(e){var t=[],n=!0,a=!1,i=void 0;try{for(var r,o=e[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var c=r.value;c.y<200&&t.push({x:new Date(c.x),y:c.y})}}catch(u){a=!0,i=u}finally{try{n||null==o.return||o.return()}finally{if(a)throw i}}return t}},{key:"render",value:function(){var e=this,t=this.state,n=t.data,a=t.showSeriesOnly;return i.a.createElement("div",null,i.a.createElement("button",{onClick:this.onResetClick},"Reset Graph"),a&&i.a.createElement("div",null,a),i.a.createElement(d.g,{height:1e3,width:1600,xType:"time"},i.a.createElement(d.a,null),n&&Object.keys(n).sort().map(function(t){return Object.keys(n[t]).sort().map(function(r){return i.a.createElement(d.b,{data:n[t][r],onSeriesClick:function(n){e.onSeriesClick(t+" "+r)},opacity:a?a===t+" "+r?1:.1:1})})}),i.a.createElement(d.f,{title:"Time"}),i.a.createElement(d.h,{title:"Duration (s)"})))}}]),t}(a.Component),O=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(l.a)(t).call(this,e))).state={data:void 0},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/OpenTrafficLightsDistributionsVisualizer/Data/full_previous_testsuite_run.json").then(function(e){return e.json()}).then(function(t){e.setState({data:t})})}},{key:"render",value:function(){var e=this.state.data;return e?i.a.createElement("div",null,Object.keys(e).map(function(t){return Object.keys(e[t]).map(function(n){return Object.keys(e[t][n]).map(function(a){return Object.keys(e[t][n][a]).map(function(r){if(!e[t][n][a][r].abs_e_result_time_list)return null;var o=[];return e[t][n][a][r].abs_e_result_time_list.forEach(function(e){e.x=Number.parseInt(e.x,10),e.x<200&&o.push(e)}),i.a.createElement("div",null,t+" "+n+" "+a+" "+r,i.a.createElement(d.g,{width:400,height:300,xType:"linear"},i.a.createElement(d.a,null),i.a.createElement(d.e,null),i.a.createElement(d.f,{title:"Tijd tot faseovergang (s)"}),i.a.createElement(d.h,{title:"MAE (s)"}),i.a.createElement(d.b,{data:o,size:2})))})})})})):i.a.createElement("div",null,"waiting")}}]),t}(a.Component),j=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(l.a)(t).call(this,e))).state={option:1,title:["Visualization of phase durations for 2019-05-08 for each signalGroup and signalPhase","Frequency distributions for large test dataset (rendering can take some time)","Visualization of the prediction error for each time to phase change for large dataset"]},n.onClick=n.onClick.bind(Object(h.a)(Object(h.a)(n))),n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"onClick",value:function(e){var t=this.state.option;0===e?--t<0&&(t=2):t=(t+1)%3,this.setState({option:t})}},{key:"render",value:function(){var e=this,t=this.state,n=t.title,a=t.option;return i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("button",{onClick:function(){return e.onClick(0)}},"<-"),i.a.createElement("div",null,n[a]),i.a.createElement("button",{onClick:function(){return e.onClick(1)}},"->")),0===a&&i.a.createElement(p,null),1===a&&i.a.createElement(y,null),2===a&&i.a.createElement(O,null))}}]),t}(a.Component),k=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App-header"},i.a.createElement(j,null)))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[25,1,2]]]);
//# sourceMappingURL=main.b4dcab82.chunk.js.map